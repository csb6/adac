-- ED4022B.ADA

-- OBJECTIVE:
--     CHECK THAT A COMPONENT CLAUSE CAN BE GIVEN FOR A COMPONENT
--     WITH AN INTEGER SUBTYPE.  CHECK WHETHER IT CAN SPECIFY
--     LESS THAN THE USUAL AMOUNT OF SPACE ALLOCATED TO A VARIABLE OF
--     THAT SUBTYPE.  THIS TEST CHECKS A SIGNED REPRESENTATION.

-- PASS/FAIL CRITERIA:
--     THIS TEST PASSES IF IT EXECUTES AND REPORTS 'PASSED'.
--     ALTERNATELY, THIS TEST PASSES IF THE REPRESENTATION CLAUSE FOR
--     REC IS REJECTED.

-- HISTORY:
--     BCB 09/14/88  CREATED ORIGINAL TEST.
--     BCB 03/20/89  CHANGED EXTENSION FROM '.ADA' TO '.DEP'.

WITH REPORT; USE REPORT;

PROCEDURE ED4022B IS

     SUBTYPE SUBINTEGER IS INTEGER RANGE -100 .. 100;

     CHECK_SIZE : CONSTANT INTEGER := 8;

     TYPE CHECK_RECORD IS RECORD
          X : INTEGER;
     END RECORD;

     FOR CHECK_RECORD USE RECORD
          X AT 0 RANGE 0 .. INTEGER'SIZE-1;
     END RECORD;

     TYPE REC IS RECORD
          RECVAR : SUBINTEGER;
     END RECORD;

     FOR REC USE RECORD
          RECVAR AT 0 RANGE 0 .. CHECK_SIZE-1;       -- PASSED => ERROR.
     END RECORD;

BEGIN
     TEST ("ED4022B", "CHECK THAT A COMPONENT CLAUSE CAN BE GIVEN " &
                      "FOR A COMPONENT WITH AN INTEGER SUBTYPE.  " &
                      "CHECK WHETHER IT CAN SPECIFY LESS THAN " &
                      "THE USUAL AMOUNT OF SPACE ALLOCATED TO A " &
                      "VARIABLE OF THAT SUBTYPE.  THIS TEST CHECKS A " &
                      "SIGNED REPRESENTATION");

     RESULT;
END ED4022B;
