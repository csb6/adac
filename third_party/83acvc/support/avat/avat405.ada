-- AVAT405.ADA

-- LIST VALUES OF MAX_DIGITS, MAX_MANTISSA, AND FINE_DELTA
-- AS DEFINED IN PACKAGE SYSTEM.

-- PWB 08/18/87  CREATED ORIGINAL TEST.

WITH DATA_COLLECTION; USE DATA_COLLECTION;
WITH SYSTEM; USE SYSTEM;
WITH TEXT_IO;

PROCEDURE AVAT405 IS

     TESTED : THINGS_TO_SUPPORT := REAL_LIMITS;

     TYPE FINE IS DELTA 2.0 **(- MAX_MANTISSA) RANGE - 0.25 .. 0.25;
     PACKAGE FINE_IO IS NEW TEXT_IO.FIXED_IO (FINE);

     DELTA_LABEL : CONSTANT STRING := "          SYSTEM.FINE_DELTA =";
     LABEL_LEN : NATURAL := DELTA_LABEL'LENGTH;

     LINE1 : CONSTANT STRING := "     LIMITING VALUES FOR REAL TYPES:";
     LINE2 : CONSTANT STRING := "          SYSTEM.MAX_DIGITS =" &
                                INTEGER'IMAGE (MAX_DIGITS);
     LINE3 : CONSTANT STRING := "          SYSTEM.MAX_MANTISSA =" &
                                INTEGER'IMAGE (MAX_MANTISSA);
     LINE4 : STRING (1 .. LABEL_LEN + 3 + FINE'AFT);

BEGIN
     LINE4 (1 .. LABEL_LEN) := DELTA_LABEL;
     FINE_IO.PUT ( LINE4 (1 + LABEL_LEN .. LINE4'LENGTH),
                   FINE(FINE_DELTA) );
     FEATURE (TESTED) := (4, ((LINE1'LENGTH, LINE1),
                              (LINE2'LENGTH, LINE2),
                              (LINE3'LENGTH, LINE3),
                              (LINE4'LENGTH, LINE4)));
END AVAT405;
