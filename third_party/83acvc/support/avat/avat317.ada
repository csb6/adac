-- AVAT317.ADA

-- CHECK WHETHER COMPILATION OF A FUNCTION SUBUNIT OF A GENERIC
-- PROCEDURE APART FROM THE FUNCTION SPECIFICATION IS SUPPORTED.
-- IF SO, THIS UNIT WILL BE REPLACED.

-- FILES FOR THIS SUBTEST:
--     AVAT317.ADA: GENERIC PROCEDURE DECLARATION WITH A STUB INCLUDED
--                   FOR FUNCTION F.  (THIS FILE)
--     AVAT318.ADA: SUBUNIT PROPER BODY FOR FUNCTION F.
--     AVAT319.ADA: MAIN PROCEDURE WITH INSTANTIATION OF GENERIC PROC.

-- TBN 03/25/87
-- PWB 08/19/87  RENUMBERED.
-- TBN 11/22/87  CHANGED TESTING METHOD.

WITH DATA_COLLECTION; USE DATA_COLLECTION;
GENERIC
PROCEDURE AVAT317;

PROCEDURE AVAT317 IS
     TESTED : THINGS_TO_SUPPORT := SUBPR_SUBUNIT_OF_GEN;
     FUNCTION F RETURN SUPPORT_RECORD IS SEPARATE;
BEGIN
     FEATURE (TESTED) := F;
END AVAT317;

SEPARATE (AVAT317)
FUNCTION F RETURN SUPPORT_RECORD IS
     LINE1 : CONSTANT STRING := "     COMPILATION OF A FUNCTION " &
                                "SUBUNIT OF A GENERIC SUBPROGRAM ";
     LINE2 : CONSTANT STRING := "     APART FROM ITS SPECIFICATION " &
                                "IS NOT SUPPORTED.";
     LINE3 : CONSTANT STRING := "          THIS INDICATES THAT " &
                                "THE FOLLOWING TEST IS " &
                                "INAPPLICABLE:";
     LINE4 : CONSTANT STRING := "               CA3011A";
BEGIN
     RETURN (4, ((LINE1'LENGTH, LINE1),
                 (LINE2'LENGTH, LINE2),
                 (LINE3'LENGTH, LINE3),
                 (LINE4'LENGTH, LINE4)));
END F;
