-- AVAT334.ADA

-- CHECK WHETHER THE INSTANTIATION OF DIRECT_IO WITH RECORD TYPES
-- WITH DISCRIMINANTS WITHOUT DEFAULTS IS SUPPORTED.
-- IF SO, THIS UNIT WILL REPLACE THE PREVIOUSLY COMPILED AVAT333.

-- TBN 03/26/87
-- PWB 08/20/87  RENUMBERED.

WITH DATA_COLLECTION; USE DATA_COLLECTION;
WITH DIRECT_IO;

PROCEDURE AVAT333 IS
     SUBTYPE INT IS INTEGER RANGE 1 .. 10;
     TYPE REC (D : INT) IS
          RECORD
               COMP1 : INTEGER := D;
          END RECORD;

     PACKAGE REC_IO IS NEW DIRECT_IO (REC);

     TESTED : THINGS_TO_SUPPORT := DIR_NO_DEF_DISCR_REC;
     LINE1 : CONSTANT STRING := "     INSTANTIATION OF DIRECT_IO " &
                                "WITH RECORD TYPES WITH DISCRIMINANTS";
     LINE2 : CONSTANT STRING := "     WITHOUT DEFAULTS IS " &
                                "SUPPORTED.";
BEGIN
     FEATURE (TESTED) := (2, ((LINE1'LENGTH, LINE1),
                              (LINE2'LENGTH, LINE2)));
END AVAT333;
