-- AVAT403.ADA

-- LIST VALUES OF SYSTEM.STORAGE_UNIT AND SYSTEM.MEMORY_SIZE.

-- PWB 08/18/87  CREATED ORIGINAL TEST.

WITH DATA_COLLECTION; USE DATA_COLLECTION;
WITH SYSTEM; USE SYSTEM;

PROCEDURE AVAT403 IS

     TESTED : THINGS_TO_SUPPORT := MEMORY_VALUES;
     TYPE LARGE_INT IS RANGE 0 .. SYSTEM.MAX_INT;
     TOO_BIG : CONSTANT STRING := "     MEMORY_SIZE IS GREATER "&
                                  "THAN MAX_INT.";
     LINE1 : CONSTANT STRING := "     MEMORY VALUES";
     LINE2,
     LINE3 : STRING (1..72);

     LINE2_LEN,
     LINE3_LEN : NATURAL;

BEGIN
     IF MEMORY_SIZE > MAX_INT THEN
          LINE2_LEN := TOO_BIG'LENGTH;
          LINE2 (1 .. LINE2_LEN) := TOO_BIG;
     ELSE
          LINE2_LEN := 23 + LARGE_INT'IMAGE(MEMORY_SIZE)'LENGTH;
          LINE2 (1 .. LINE2_LEN) := "          MEMORY_SIZE =" &
                                    LARGE_INT'IMAGE(MEMORY_SIZE);
     END IF;
     LINE3_LEN := 24 + INTEGER'IMAGE (STORAGE_UNIT)'LENGTH;
     LINE3 (1 .. LINE3_LEN) := "          STORAGE_UNIT =" &
                               INTEGER'IMAGE (STORAGE_UNIT);

     FEATURE (TESTED) := (3, ((LINE1'LENGTH, LINE1),
                              (LINE2_LEN, LINE2 (1 .. LINE2_LEN)),
                              (LINE3_LEN, LINE3 (1 .. LINE3_LEN))));
END AVAT403;
