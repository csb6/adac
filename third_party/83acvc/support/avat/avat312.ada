-- AVAT312.ADA

-- CHECK WHETHER COMPILATION OF GENERIC NONLIBRARY SUBPROGRAM BODY
-- AS SUBUNIT APART FROM SPEC IS SUPPORTED.

-- FILES FOR THIS SUBTEST:
--     AVAT309.ADA: PACKAGE SPEC AND BODY (AVAT309_PACK) WITH COMPLETE
--                   GENERIC FUNCTION AVAT309.
--     AVAT310.ADA: REPLACEMENT FOR BODY OF AVAT309_PACK, WITH BODY
--                   STUB FOR GENERIC FUNCTION AVAT309.
--     AVAT311.ADA: SUBUNIT PROPER BODY FOR GENERIC FUNCTION AVAT309.
--     AVAT312.ADA: MAIN PROCEDURE WITH INSTANTIATION OF AVAT309
--                  (THIS FILE).


-- TBN 03/25/87

WITH DATA_COLLECTION; USE DATA_COLLECTION;
WITH AVAT309_PACK; USE AVAT309_PACK;

PROCEDURE AVAT312 IS
     ALT_LINE1 : CONSTANT STRING := "     COMPILATION OF GENERIC " &
                                    "NONLIBRARY SUBPROGRAM BODY AS";
     ALT_LINE2 : CONSTANT STRING := "     SUBUNIT APART FROM SPEC IS " &
                                    "SUPPORTED.";
     FUNCTION INST IS NEW AVAT309;
BEGIN
     IF INST THEN
          FEATURE (TESTED) := (4, ((LINE1'LENGTH, LINE1),
                                   (LINE2'LENGTH, LINE2),
                                   (LINE3'LENGTH, LINE3),
                                   (LINE4'LENGTH, LINE4)));
     ELSE
          FEATURE (TESTED) := (2, ((ALT_LINE1'LENGTH, ALT_LINE1),
                                   (ALT_LINE2'LENGTH, ALT_LINE2)));
     END IF;
END AVAT312;
