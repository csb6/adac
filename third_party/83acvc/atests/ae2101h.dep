-- AE2101H.DEP

-- OBJECTIVE:
--     CHECK WHETHER OR NOT DIRECT_IO CAN BE INSTANTIATED
--     WITH UNCONSTRAINED ARRAY TYPES (INCLUDING STRING) AND RECORD
--     TYPES WITH DISCRIMINANTS WITHOUT DEFAULTS (SEE AI-00037).

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE TO IMPLEMENTATIONS WHICH SUPPORT
--     INSTANTIATIONS OF DIRECT_IO WITH UNCONSTRAINED ARRAY TYPES
--     (INCLUDING STRING) AND RECORD TYPES WITH DISCRIMINANTS WITHOUT
--     DEFAULTS.
--
--     IF INSTANTIATIONS OF DIRECT_IO WITH UNCONSTRAINED ARRAY TYPES
--     (INCLUDING STRING) AND RECORD TYPES WITH DISCRIMINANTS WITHOUT
--     DEFAULTS ARE NOT SUPPORTED, THE INSTANTIATIONS OF DIRECT_IO MUST
--     BE REJECTED.

-- HISTORY:
--     ABW 08/09/82  CREATED ORIGINAL TEST.
--     SPS 09/15/82
--     JBG 04/27/83
--     JRK 03/26/84
--     JBG 05/23/85  REVISE FOR AI-00037.
--     BCB 12/28/87  MODIFIED HEADER.

WITH REPORT;
USE REPORT;
WITH DIRECT_IO;

PROCEDURE AE2101H IS

BEGIN

     TEST( "AE2101H" , "CHECK WHETHER DIRECT_IO " &
                       "CAN BE INSTANTIATED WITH " &
                       "UNCONSTRAINED ARRAY TYPES AND " &
                       "RECORD TYPES WITH DISCRIMINANTS " &
                       "WITHOUT DEFAULTS");

     DECLARE

          TYPE ARR IS ARRAY (INTEGER RANGE <>) OF BOOLEAN;
          TYPE REC_DS (D : INTEGER) IS
               RECORD
                    COMP1 : INTEGER := D;
                    COMP2 : ARR (1.. 10);
               END RECORD;

          PACKAGE DIR_STRING  IS NEW DIRECT_IO (STRING);-- N/A => ERROR.
          PACKAGE DIR_ARR     IS NEW DIRECT_IO (ARR);   -- N/A => ERROR.
          PACKAGE DIR_REC_DS  IS NEW DIRECT_IO (REC_DS);-- N/A => ERROR.

     BEGIN
          NULL;
     END;

     RESULT;

END AE2101H;
