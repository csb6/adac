-- A33003A.ADA

-- CHECK THAT THE FOLLOWING FORMS OF ALMOST RECURSIVE TYPES CAN BE
-- DECLARED:
--     A) A RECORD HAVING A COMPONENT OF AN ACCESS TYPE WHOSE DESIGNATED
--        TYPE IS THE RECORD TYPE;
--     B) AN ACCESS TYPE WHOSE DESIGNATED TYPE IS A AN ACCESS TYPE THAT
--        DESIGNATES THE FIRST ACCESS TYPE;
--     C) A PRIVATE TYPE WHOSE FULL DECLARATION DECLARES AN ACCESS TYPE
--        DESIGNATING THE PRIVATE TYPE.

-- TBN  10/6/86

WITH REPORT; USE REPORT;
PROCEDURE A33003A IS

     PACKAGE P IS
          TYPE INT IS PRIVATE;
          SUBTYPE SUBINT IS INT;
     PRIVATE
          TYPE INT IS ACCESS SUBINT;
     END P;

     TYPE REC;
     TYPE ACC_REC IS ACCESS REC;
     TYPE REC IS
          RECORD
               A : INTEGER;
               B : ACC_REC;
          END RECORD;

     TYPE W;
     TYPE X IS ACCESS W;
     TYPE W IS ACCESS X;

     TASK TYPE T;
     SUBTYPE U IS T;

     TASK BODY T IS
          X : U;
     BEGIN
          NULL;
     END T;

BEGIN
     TEST ("A33003A", "CHECK THAT ALMOST RECURSIVE TYPES CAN BE " &
                      "DECLARED");

     RESULT;
END A33003A;
