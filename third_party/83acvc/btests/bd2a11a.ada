-- BD2A11A.ADA

-- OBJECTIVE:
--     CHECK THAT A SIZE SPECIFICATION CANNOT BE GIVEN FOR DERIVED
--     ENUMERATION, DERIVED INTEGER, DERIVED FIXED-POINT, AND DERIVED
--     FLOATING-POINT TYPES WITH NON-STATIC RANGE CONTRAINTS.

-- HISTORY:
--     JKC 03/17/88  CREATED ORIGINAL TEST.

PROCEDURE BD2A11A IS

     FUNCTION F_INT (INT : INTEGER) RETURN INTEGER IS
     BEGIN
          RETURN INT;
     END F_INT;

BEGIN
     DECLARE
          TYPE BASIC_ENUM IS (A, B, C);
          AVAR : BASIC_ENUM := A;
          CVAR : BASIC_ENUM := C;
          TYPE D_ENUM IS NEW BASIC_ENUM RANGE AVAR..CVAR;
          FOR D_ENUM'SIZE USE INTEGER'SIZE;                 -- ERROR:

          TYPE D_INTEGER IS NEW INTEGER RANGE F_INT(4)..F_INT(20);
          FOR D_INTEGER'SIZE USE INTEGER'SIZE;               -- ERROR:

          TYPE FIXED_TYPE IS DELTA 0.25 RANGE -100.0..100.0;
          L : FIXED_TYPE := 0.0;
          R : FIXED_TYPE := 0.0;
          TYPE D_FIXED IS NEW FIXED_TYPE RANGE L..R;
          FOR D_FIXED'SIZE USE INTEGER'SIZE;                 -- ERROR:

          TYPE FLOAT_TYPE IS DIGITS 5;
          LOW : FLOAT_TYPE := -1.0;
          HI  : FLOAT_TYPE :=  1.0;
          TYPE D_FLOAT IS NEW FLOAT_TYPE RANGE LOW..HI;
          FOR D_FLOAT'SIZE USE 128;                          -- ERROR:

     BEGIN
          NULL;
     END;

END BD2A11A;
