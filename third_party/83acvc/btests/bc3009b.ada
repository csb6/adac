-- BC3009B.ADA

-- CHECK THAT A GENERIC UNIT MAY NOT REQUIRE AN INSTANTIATION
-- OF ITSELF.

-- CASE OF DETECTION OF CIRCULAR INSTANTIATIONS ACROSS COMPILATION UNITS

-- RFB 05/24/84
-- EG  05/31/84

--
-- UNIT 1
--
GENERIC
     PROCEDURE BC3009B2;

--
-- UNIT 2
--
WITH BC3009B2;
GENERIC
PACKAGE BC3009B1 IS
     PROCEDURE NF IS NEW BC3009B2;          -- WARN: INCOMPLETE
END;

--
-- UNIT 3
--       
WITH BC3009B1;
PROCEDURE BC3009B2 IS
     PACKAGE NP IS NEW BC3009B1;            -- ERROR: CIRCULAR(2 LEVELS)
BEGIN
     NULL; 
END;

--
-- UNIT 4
--
GENERIC
     PROCEDURE BC3009B3;

--
-- UNIT 5
--
GENERIC
     PROCEDURE BC3009B4;

--
-- UNIT 6
--
GENERIC
     PROCEDURE BC3009B5;

--
-- UNIT 7
--
GENERIC
     PROCEDURE BC3009B6;

--
-- UNIT 8
--
WITH BC3009B6;
PROCEDURE BC3009B3 IS
     PROCEDURE N1 IS NEW BC3009B6;          -- WARN: INCOMPLETE.
BEGIN
     NULL;
END;

--
-- UNIT 9
--
WITH BC3009B3;
PROCEDURE BC3009B4 IS
     PROCEDURE N2 IS NEW BC3009B3;          -- WARN: INCOMPLETE.
BEGIN
     NULL;
END;

--
-- UNIT 10
--
WITH BC3009B4;
PROCEDURE BC3009B5 IS
     PROCEDURE N3 IS NEW BC3009B4;          -- WARN: INCOMPLETE.
BEGIN
     NULL;
END;

--
-- UNIT 11
--
WITH BC3009B5;
PROCEDURE BC3009B6 IS
     PROCEDURE N4 IS NEW BC3009B5;          -- ERROR: CIRCULAR(4 LEVELS)
BEGIN
     NULL;
END;
