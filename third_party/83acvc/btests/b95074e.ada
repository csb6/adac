-- B95074E.ADA

-- CHECK THAT 'CONSTRAINED IS NOT ALLOWED FOR A PARAMETER OF AN ACCESS
-- TYPE DESIGNATING A RECORD TYPE WITH DISCRIMINANTS, FOR ALL MODES.

-- JWC 6/26/85

PROCEDURE B95074E IS

     TYPE ARR IS ARRAY (1 .. 10) OF NATURAL;
     TYPE ACC_ARR IS ACCESS ARR;

     TYPE REC (D : INTEGER) IS RECORD
          C : ACC_ARR;
     END RECORD;

     TYPE ACC_REC IS ACCESS REC;

     TASK T IS
          ENTRY E (ACC_REC1 : OUT ACC_REC;
                   ACC_REC2 : IN ACC_REC;
                   ACC_REC3 : IN OUT ACC_REC);
     END T;

     TASK BODY T IS
          B : BOOLEAN;
     BEGIN

          ACCEPT E (ACC_REC1 : OUT ACC_REC;
                    ACC_REC2 : IN ACC_REC;
                    ACC_REC3 : IN OUT ACC_REC) DO

               B := ACC_REC1'CONSTRAINED;     -- ERROR: CONSTRAINED.
               B := ACC_REC2'CONSTRAINED;     -- ERROR: CONSTRAINED.
               B := ACC_REC3'CONSTRAINED;     -- ERROR: CONSTRAINED.
               B := ACC_REC1.ALL'CONSTRAINED; -- ERROR: CONSTRAINED.
               B := ACC_REC2.ALL'CONSTRAINED; -- OK.
               B := ACC_REC3.ALL'CONSTRAINED; -- OK.

          END E;
     END T;

BEGIN
     NULL;
END B95074E;
