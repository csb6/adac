-- C35706F.DEP

-- OBJECTIVE:
--     CHECK THAT LITERALS OF POWERS OF TWO DOWN TO 2**-30 ARE
--     REPRESENTED EXACTLY FOR DIGITS = 10.

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE TO IMPLEMENTATIONS WHICH
--     SUPPORT DIGITS = 10.
--
--     IF DIGITS = 10 IS NOT SUPPORTED, THEN THE DECLARATION OF TYPE
--     DN MUST BE REJECTED.

-- HISTORY:
--     BAW 09/05/80  CREATED ORIGINAL TEST.
--     JBG 10/29/82
--     BCB 01/06/88  MODIFIED HEADER.

WITH REPORT;
PROCEDURE C35706F IS

     USE REPORT;

     TYPE DN IS DIGITS 10;                             -- N/A => ERROR.

     TYPE TABLE IS ARRAY(1..3,1..30) OF DN;

     MATRIX : TABLE := ((
              8#4.0#E-1, 8#2.0#E-1, 8#1.0#E-1,
              8#4.0#E-2, 8#2.0#E-2, 8#1.0#E-2,
              8#4.0#E-3, 8#2.0#E-3, 8#1.0#E-3,
              8#4.0#E-4, 8#2.0#E-4, 8#1.0#E-4,
              8#4.0#E-5, 8#2.0#E-5, 8#1.0#E-5,
              8#4.0#E-6, 8#2.0#E-6, 8#1.0#E-6,
              8#4.0#E-7, 8#2.0#E-7, 8#1.0#E-7,
              8#4.0#E-8, 8#2.0#E-8, 8#1.0#E-8,
              8#4.0#E-9, 8#2.0#E-9, 8#1.0#E-9,
              8#4.0#E-10, 8#2.0#E-10, 8#1.0#E-10),

             (0.5,
              0.25,
              0.125,
              0.062_5,
              0.031_25,
              0.015_625,
              0.007_812_5,
              0.003_906_25,
              0.001_953_125,
              0.000_976_562_5,
              0.000_488_281_25,
              0.000_244_140_625,
              0.000_122_070_312_5,
              0.000_061_035_156_25,
              0.000_030_517_578_125,
              0.000_015_258_789_062_5,
              0.000_007_629_394_531_25,
              0.000_003_814_697_265_625,
              0.000_001_907_348_632_812_5,
              0.000_000_953_674_316_406_25,
              0.000_000_476_837_158_203_125,
              0.000_000_238_418_579_101_562_5,
              0.000_000_119_209_289_550_781_25,
              0.000_000_059_604_644_775_390_625,
              0.000_000_029_802_322_387_695_312_5,
              0.000_000_014_901_161_193_847_656_25,
              0.000_000_007_450_580_596_923_828_125,
              0.000_000_003_725_290_298_461_914_062_5,
              0.000_000_001_862_645_149_230_957_031_25,
              0.000_000_000_931_322_574_615_478_515_625),

             (16#8.0#E-1, 16#4.0#E-1, 16#2.0#E-1, 16#1.0#E-1,
              16#8.0#E-2, 16#4.0#E-2, 16#2.0#E-2, 16#1.0#E-2,
              16#8.0#E-3, 16#4.0#E-3, 16#2.0#E-3, 16#1.0#E-3,
              16#8.0#E-4, 16#4.0#E-4, 16#2.0#E-4, 16#1.0#E-4,
              16#8.0#E-5, 16#4.0#E-5, 16#2.0#E-5, 16#1.0#E-5,
              16#8.0#E-6, 16#4.0#E-6, 16#2.0#E-6, 16#1.0#E-6,
              16#8.0#E-7, 16#4.0#E-7, 16#2.0#E-7, 16#1.0#E-7,
              16#8.0#E-8, 16#4.0#E-8));

      I : INTEGER := 1;
      EQUAL : BOOLEAN := TRUE;

BEGIN TEST("C35706F","CHECK IF NEGATIVE POWERS OF 2.0 DOWN TO " &
                 " 2.0**(-30) ARE REPRESENTED EXACTLY");

      WHILE I <= 30 AND EQUAL LOOP
            IF MATRIX(1,I) /= MATRIX(2,I) OR
               MATRIX(2,I) /= MATRIX(3,I)
            THEN FAILED("NOT ALL NEGATIVE POWERS ARE REPRESENTED " &
                        " EXACTLY");
                 EQUAL := FALSE;
            ELSE I := I+1;
            END IF;
      END LOOP;

      RESULT;

END C35706F;
