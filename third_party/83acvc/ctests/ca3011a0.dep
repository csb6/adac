-- CA3011A0.DEP

-- A GENERIC UNIT.
-- SUBUNITS ARE IN CA3011A1, CA3011A2, AND CA3011A3.
-- INSTANTIATION IS IN CA3011A4M.

-- APPLICABILITY CRITERIA:
--     THIS UNIT MAY BE REJECTED BY AN IMPLEMENTATION WHICH REQUIRES
--     THAT SUBUNITS OF GENERIC UNITS BE IN THE SAME FILE AS THE
--     GENERIC PARENTS.

-- HISTORY:
--     RJW 09/22/86  CREATED ORIGINAL TEST.
--     BCB 01/05/88  MODIFIED HEADER.

WITH REPORT; USE REPORT;

GENERIC
     TYPE T IS (<>);
     X : T;
PROCEDURE CA3011A0 (Z : OUT T);

PROCEDURE CA3011A0 (Z : OUT T) IS
     T1 : T;

     FUNCTION CA3011A1 RETURN T IS SEPARATE;

     PROCEDURE CA3011A2 (Y : OUT T) IS SEPARATE;

     PACKAGE CA3011A3 IS
          FUNCTION CA3011A3F RETURN T;
     END CA3011A3;

     PACKAGE BODY CA3011A3 IS SEPARATE;

BEGIN
     IF CA3011A1 /= X THEN
          FAILED ( "INCORRECT VALUE RETURNED BY FUNCTION CA3011A1" );
     END IF;

     CA3011A2 (T1);

     IF T1 /= X THEN
          FAILED ( "INCORRECT VALUE RETURNED BY PROCEDURE CA3011A2 " );
     END IF;

     IF CA3011A3.CA3011A3F /= X THEN
          FAILED ( "INCORRECT VALUE RETURNED BY FUNCTION CA3011A3F " );
     END IF;

     Z := X;

END CA3011A0;
