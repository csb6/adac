-- C86006H.DEP

-- OBJECTIVE:
--     CHECK THAT THE IDENTIFIER SHORT_FLOAT IS DECLARED IN THE PACKAGE
--     STANDARD, ALONG WITH THE OPERATORS OF THE TYPE SHORT_FLOAT.

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE ONLY TO THOSE IMPLEMENTATIONS WHICH
--     SUPPORT SHORT_FLOAT.

--     IF SHORT_FLOAT IS NOT SUPPORTED, THEN THE DECLARATION OF
--     CHECK_SHORT MUST BE REJECTED.

-- HISTORY:
--     BCB 09/22/88  CREATED ORIGINAL TEST.

WITH REPORT; USE REPORT;

PROCEDURE C86006H IS

     CHECK_SHORT : STANDARD.SHORT_FLOAT := 2.0;        -- N/A => ERROR.

     A, B : STANDARD.SHORT_FLOAT := 2.0;
     C, D : STANDARD.SHORT_FLOAT := -2.0;

     E : INTEGER := IDENT_INT(2);

     FUNCTION IDENT_SHORT_FLOAT (X : STANDARD.SHORT_FLOAT)
        RETURN STANDARD.SHORT_FLOAT IS
          Y : STANDARD.SHORT_FLOAT := 0.0;
     BEGIN
          IF EQUAL(3,3) THEN
               RETURN X;
          END IF;
          RETURN Y;
     END IDENT_SHORT_FLOAT;

BEGIN
     TEST ("C86006H", "CHECK THAT THE IDENTIFIER SHORT_FLOAT IS " &
                      "DECLARED IN THE PACKAGE STANDARD, ALONG WITH " &
                      "THE OPERATORS OF THE TYPE SHORT_FLOAT");

     IF STANDARD."="(A,C) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.=");
     END IF;

     IF STANDARD."/="(C,D) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD./=");
     END IF;

     IF STANDARD."<"(A,C) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.<");
     END IF;

     IF STANDARD."<="(B,D) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.<=");
     END IF;

     IF STANDARD.">"(C,A) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.>");
     END IF;

     IF STANDARD.">="(D,B) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.>=");
     END IF;

     IF STANDARD."-"(A) /= IDENT_SHORT_FLOAT(C) THEN
          FAILED ("IMPROPER RESULT FROM UNARY STANDARD.-");
     END IF;

     IF STANDARD."+"(C) /= IDENT_SHORT_FLOAT(D) THEN
          FAILED ("IMPROPER RESULT FROM UNARY STANDARD.+");
     END IF;

     IF STANDARD."ABS"(C) /= IDENT_SHORT_FLOAT(A) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.ABS");
     END IF;

     IF STANDARD."-"(A,C) /= IDENT_SHORT_FLOAT(4.0) THEN
          FAILED ("IMPROPER RESULT FROM BINARY STANDARD.-");
     END IF;

     IF STANDARD."+"(A,C) /= IDENT_SHORT_FLOAT(0.0) THEN
          FAILED ("IMPROPER RESULT FROM BINARY STANDARD.+");
     END IF;

     IF STANDARD."*"(A,C) /= IDENT_SHORT_FLOAT(-4.0) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.*");
     END IF;

     IF STANDARD."/"(A,C) /= IDENT_SHORT_FLOAT(-1.0) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD./");
     END IF;

     IF STANDARD."**"(D,E) /= IDENT_SHORT_FLOAT(4.0) THEN
          FAILED ("IMPROPER RESULT FROM STANDARD.**");
     END IF;

     RESULT;
END C86006H;
