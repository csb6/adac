-- C35705K.DEP

-- OBJECTIVE:
--     CHECK THAT LARGE, SMALL, AND EPSILON CAN BE ASSIGNED EXACTLY
--     FOR DIGITS = 15.

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE TO IMPLEMENTATIONS WHICH
--     SUPPORT DIGITS = 15.
--
--     IF DIGITS = 15 IS NOT SUPPORTED, THEN THE DECLARATION OF TYPE
--     DN MUST BE REJECTED.

-- HISTORY:
--     BAW 09/80     CREATED ORIGINAL TEST.
--     JBG 10/29/82
--     JBG 10/12/86  ADDED CODE TO CHECK THAT VALUES ARE TREATED
--                   CORRECTLY AT COMPILE-TIME (BY OPTIMIZING
--                   COMPILERS); REMOVED -B FROM NAME.
--     BCB 01/06/88  MODIFIED HEADER.

WITH REPORT;
PROCEDURE C35705K IS
      USE REPORT;
      TYPE DN IS DIGITS 15;                            -- N/A => ERROR.

      LARGE, MIN_LARGE, SMALL, MIN_SMALL,
      EPSILON, ONE_PLUS_EPSILON : DN := 0.0;

BEGIN TEST("C35705K","CHECK IF VALUES CORRESPONDING TO " &
            "LARGE, -LARGE, SMALL, -SMALL, EPSILON AND " &
            "1.0 + EPSILON CAN BE ASSIGNED EXACTLY");

      IF EQUAL(1, 1) THEN
         LARGE := 16#0.FFFFFFFFFFFFE#E51;
         MIN_LARGE := -16#0.FFFFFFFFFFFFE#E51;
         SMALL := 16#0.8#E-51;
         MIN_SMALL := -16#0.8#E-51;
         EPSILON := 16#0.4#E-12;
         ONE_PLUS_EPSILON := 16#0.10000000000004#E1;

         IF LARGE /= DN'LARGE OR
            MIN_LARGE /= -DN'LARGE OR
            SMALL /= DN'SMALL OR
            MIN_SMALL /= -DN'SMALL OR
            EPSILON /= DN'EPSILON OR
            ONE_PLUS_EPSILON /= 1.0 + DN'EPSILON
         THEN FAILED("THE ASSIGNMENTS OF SOME ATTRIBUTES OF " &
                     "FLOATING-POINT TYPES ARE NOT EXACT - " &
                     "COMPILE-TIME");
         END IF;

      END IF;

      IF LARGE /= DN'LARGE OR
         MIN_LARGE /= -DN'LARGE OR
         SMALL /= DN'SMALL OR
         MIN_SMALL /= -DN'SMALL OR
         EPSILON /= DN'EPSILON OR
         ONE_PLUS_EPSILON /= 1.0 + DN'EPSILON
      THEN FAILED("THE ASSIGNMENTS OF SOME ATTRIBUTES OF " &
                  "FLOATING-POINT TYPES ARE NOT EXACT - RUN-TIME");
      END IF;

      RESULT;

END C35705K;
