-- C4A010D.ADA

-- CHECK THAT STATIC UNIVERSAL REAL EXPRESSIONS ARE EVALUATED 
-- EXACTLY.  IN PARTICULAR, CHECK THAT VALUES OF 'SMALL AND 'LARGE
-- CAN BE COMPUTED CORRECTLY AS STATIC EXPRESSIONS.

-- RJW 7/31/86

WITH REPORT; USE REPORT; 
PROCEDURE C4A010D IS


BEGIN

     TEST( "C4A010D", "CHECK THAT STATIC UNIVERSAL REAL EXPRESSIONS " &
                      "ARE EVALUATED EXACTLY.  IN PARTICULAR, CHECK " &
                      "THAT VALUES OF 'SMALL AND 'LARGE CAN BE " & 
                      "COMPUTED CORRECTLY AS STATIC EXPRESSIONS" );

     DECLARE

          TYPE FLT IS DIGITS 3 RANGE -5.0 .. 5.0;
          
          FMANTISSA : CONSTANT := FLT'MANTISSA;
          FEMAX     : CONSTANT := 4 * FMANTISSA;
          FSMALL    : CONSTANT := 2.0 ** (-FEMAX - 1);
          FLARGE    : CONSTANT := 2.0 ** FEMAX * 
                                  (1.0 - 2.0 ** (-FMANTISSA));
     BEGIN
          IF FSMALL /= FLT'SMALL THEN 
               FAILED ( "INCORRECT VALUE CALCULATED FOR FLT'SMALL" );
          END IF;

          IF FLARGE /= FLT'LARGE THEN
               FAILED ( "INCORRECT VALUE CALCULATED FOR FLT'LARGE" );
          END IF;

     END;   
     
     DECLARE

          TYPE FIXED IS DELTA 0.1 RANGE -5.0 .. 5.0;
          
          FMANTISSA : CONSTANT := FIXED'MANTISSA;
          FSMALL    : CONSTANT := 1.0/16.0;
          FLARGE    : CONSTANT := (2 ** FMANTISSA - 1) * FSMALL;
     BEGIN
          IF FSMALL /= FIXED'SMALL THEN 
               FAILED ( "INCORRECT VALUE CALCULATED FOR FIXED'SMALL" );
          END IF;

          IF FLARGE /= FIXED'LARGE THEN
               FAILED ( "INCORRECT VALUE CALCULATED FOR FIXED'LARGE" );
          END IF;

     END;   
     
     RESULT;
END C4A010D;
