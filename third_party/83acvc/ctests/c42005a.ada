-- C42005A.ADA

-- CHECK THAT CONSTRAINT_ERROR IS RAISED WHEN A NULL STRING IS ASSIGNED
-- TO AN ARRAY OBJECT WHOSE LOWER BOUND OF THE INDEX SUBTYPE IS 'FIRST
-- OF THE INDEX BASE TYPE.

-- SPS 2/23/84
-- JBG 3/20/85

WITH REPORT;
USE REPORT;
PROCEDURE C42005A IS
BEGIN

     TEST ("C42005A", "CHECK THAT CONSTRAINT_ERROR IS RAISED WHEN " &
           "A NULL STRING IS ASSIGNED TO AN ARRAY WITH LOWER BOUND " &
           "BASE TYPE 'FIRST");

     DECLARE
          SUBTYPE INT IS INTEGER RANGE INTEGER'FIRST .. INTEGER'FIRST+3;
          TYPE STR IS ARRAY (INT RANGE <>) OF CHARACTER;

     BEGIN

          DECLARE
               X : CONSTANT STR := "";
          BEGIN
               FAILED ("CONSTRAINT_ERROR NOT RAISED");
          END;

     EXCEPTION
          WHEN CONSTRAINT_ERROR => 
               NULL;
          WHEN OTHERS =>
               FAILED ("SOME EXCEPTION OTHER THAN CONSTRAINT_ERROR" &
                       " RAISED");
     END;

     RESULT;

END C42005A;
