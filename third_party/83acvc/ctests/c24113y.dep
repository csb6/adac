-- C24113Y.DEP

-- OBJECTIVE:
--     CHECK THAT DECIMAL VALUES OF 'LARGE AND 'SMALL ARE REPRESENTED
--     EXACTLY FOR DIGITS = 29.

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE TO IMPLEMENTATIONS WHICH
--     SUPPORT DIGITS = 29 AND ALLOW SOURCE LINES WITH 283 CHARACTERS.
--
--     IF DIGITS = 29 IS NOT SUPPORTED, THEN THE DECLARATION OF TYPE
--     F MUST BE REJECTED.
--
--     IF SOURCE LINES OF 283 OR MORE CHARACTERS ARE NOT ALLOWED, THEN
--     THE LINE FOLLOWING THE DECLARATION OF MIN_SMALL MUST BE REJECTED.

-- HISTORY:
--     JBG 11/10/80  CREATED ORIGINAL TEST.
--     JBG 10/29/82
--     JBG 10/12/86  INSERTED CODE TO GUARANTEE VALUES ARE REPRESENTED
--                   AT RUN TIME; REMOVED -B FROM NAME.
--     BCB 12/28/87  MODIFIED HEADER.

WITH REPORT;
PROCEDURE C24113Y IS
     USE REPORT;
     TYPE F IS DIGITS 29;                              -- N/A => ERROR.

     LARGE : F :=      -- DECIMAL VALUE OF 'LARGE ON NEXT LINE
10086913586276986678343434265604936446970186908141209883113366577720475579852255662605862466729376196237694629484429312.0
;
     MIN_LARGE : F :=  -- NEGATIVE VALUE OF 'LARGE ON NEXT LINE
-10086913586276986678343434265604936446970186908141209883113366577720475579852255662605862466729376196237694629484429312.0
;
     SMALL : F :=      -- DECIMAL VALUE OF 'SMALL ON NEXT LINE
0.49569176510071273892070792106065303648898805658224523078243365649208529255650380350242332598745786840423136544096697184503946705907102084038685671048362886297631181635462794275051930091176636852362359905874623262722320258081010801239248142469051572334137745201587677001953125E-118
;
     MIN_SMALL : F :=  -- NEGATIVE VALUE OF 'SMALL ON NEXT LINE
-0.49569176510071273892070792106065303648898805658224523078243365649208529255650380350242332598745786840423136544096697184503946705907102084038685671048362886297631181635462794275051930091176636852362359905874623262722320258081010801239248142469051572334137745201587677001953125E-118
;                      -- N/A => ERROR (PRECEDING LINE).

BEGIN TEST ("C24113Y", "CHECK THAT DECIMAL VALUES OF 'LARGE, -'LARGE, "&
                       "'SMALL, AND -'SMALL ARE REPRESENTED EXACTLY");

     IF LARGE /= 16#0.FFFFFFFFFFFFFFFFFFFFFFFFC#E98
     THEN
          FAILED ("'LARGE NOT EXACT - COMPILE-TIME");
     END IF;

     IF NOT EQUAL (2,2) THEN      -- NEVER EXECUTED
           LARGE := F (IDENT_INT(3));
     END IF;

     IF LARGE /= 16#0.FFFFFFFFFFFFFFFFFFFFFFFFC#E98
     THEN
          FAILED ("'LARGE NOT EXACT - RUN-TIME");
     END IF;

     IF MIN_LARGE /= -16#0.FFFFFFFFFFFFFFFFFFFFFFFFC#E98
     THEN
          FAILED ("-'LARGE NOT EXACT - COMPILE-TIME");
     END IF;

     IF NOT EQUAL (2,2) THEN      -- NEVER EXECUTED
           MIN_LARGE := F (IDENT_INT(3));
     END IF;

     IF MIN_LARGE /= -16#0.FFFFFFFFFFFFFFFFFFFFFFFFC#E98
     THEN
          FAILED ("-'LARGE NOT EXACT - RUN-TIME");
     END IF;

     IF SMALL /= 16#0.8#E-98
     THEN
          FAILED ("SMALL NOT EXACT - COMPILE-TIME");
     END IF;

     IF NOT EQUAL (2,2) THEN      -- NEVER EXECUTED
          SMALL := F(IDENT_INT(3));
     END IF;

     IF SMALL /= 16#0.8#E-98
     THEN
          FAILED ("SMALL NOT EXACT - RUN-TIME");
     END IF;

     IF MIN_SMALL /= -16#0.8#E-98
     THEN
          FAILED ("-'SMALL NOT EXACT - COMPILE-TIME");
     END IF;

     IF NOT EQUAL (2,2) THEN      -- NEVER EXECUTED
          MIN_SMALL := F(IDENT_INT(3));
     END IF;

     IF MIN_SMALL /= -16#0.8#E-98
     THEN
          FAILED ("-'SMALL NOT EXACT - RUN-TIME");
     END IF;

     RESULT;

END C24113Y;
