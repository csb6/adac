-- CA3011A4M.DEP

-- OBJECTIVE:
--     CHECK WHETHER AN IMPLEMENTATION REQUIRES GENERIC UNIT BODIES AND
--     SUBUNITS TO BE COMPILED TOGETHER IN THE SAME FILE.

-- SEPARATE FILES ARE:
--     CA3011A0 - A GENERIC UNIT.
--     CA3011A1, CA3011A2, CA3011A3 - SUBUNITS OF GENERIC UNIT.
--     CA3011A4M - THE MAIN PROCEDURE.

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE FOR IMPLEMENTATIONS WHICH ALLOW
--     THE SEPARATE COMPILATION OF SUBUNITS OF GENERIC PROCEDURES.
--
--     IF SEPARATE COMPILATION OF SUBUNITS OF GENERIC PROCEDURES IS
--     NOT ALLOWED, THEN THIS TEST MUST NOT EXECUTE.

-- HISTORY:
--     RJW 09/22/86  CREATED ORIGINAL TEST.
--     BCB 01/05/88  MODIFIED HEADER.

WITH REPORT; USE REPORT;
WITH CA3011A0;
PROCEDURE CA3011A4M IS
     I : INTEGER;
     PROCEDURE P IS NEW CA3011A0 (INTEGER, 22);

BEGIN
     TEST ( "CA3011A", "CHECK WHETHER AN IMPLEMENTATION REQUIRES " &
                       "GENERIC UNIT BODIES AND SUBUNITS TO BE " &
                       "COMPILED TOGETHER IN THE SAME FILE" );

     COMMENT ("THIS TEST MUST NOT EXECUTE IF SUBUNITS OF " &
              "GENERIC PROCEDURES ARE REQUIRED TO BE IN THE " &
              "SAME FILE AS THE GENERIC PARENTS");

     P (I);
     IF I /= 22 THEN
          FAILED ( "INCORRECT INSTANTIATION" );
     END IF;

     RESULT;
END CA3011A4M;
