-- C95040B.ADA

-- CHECK THAT THE EXCEPTION TASKING_ERROR IS RAISED BY A TASK IF THE
-- TASK BECOMES COMPLETED OR ABNORMAL BEFORE ACCEPTING THE CALL.

-- WEI  3/ 4/82
-- TLB 10/30/87  RENAMED FROM C950CHC.ADA.

WITH REPORT;
 USE REPORT;
PROCEDURE C95040B IS

     TASK T1 IS
          ENTRY E1;
     END T1;

     TASK BODY T1 IS
     BEGIN
          DELAY 1.0;
          IF EQUAL (1, 1) THEN
               ABORT T1;
          END IF;
          ACCEPT E1;
     END T1;

BEGIN

     TEST ("C95040B", "TASK COMPLETION BEFORE ACCEPTING AN ENTRY CALL");

     T1.E1;

     FAILED ("NO EXCEPTION TASKING_ERROR RAISED");

     RESULT;

EXCEPTION
     WHEN TASKING_ERROR =>
          RESULT;

END C95040B;
