-- C35708U.DEP

-- OBJECTIVE:
--     CHECK THAT UNNORMALIZED MODEL NUMBERS ARE CORRECT
--     FOR DIGITS = 25.

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE TO IMPLEMENTATIONS WHICH
--     SUPPORT DIGITS = 25.
--
--     IF DIGITS = 25 IS NOT SUPPORTED, THEN THE DECLARATION OF
--     DN MUST BE REJECTED.

-- HISTORY:
--     BAW 09/80     CREATED ORIGINAL TEST.
--     JBG 10/29/82
--     JBG 10/12/86  ADD CODE TO ENSURE CHECKS ARE DONE AT RUN-TIME;
--                   REMOVE -B FROM TEST NAME.
--     BCB 01/14/88  MODIFIED HEADER.

WITH REPORT;
PROCEDURE C35708U IS

     USE REPORT;
     TYPE DN IS DIGITS 25;                             -- N/A => ERROR.

BEGIN

     DECLARE
          X : DN := 16#0.0000000FFFFFFFFFFFFFFFFFFFFF8#E92;
          Y : DN := 16#0.00000000001#E-24;

     BEGIN TEST("C35708U","CHECK UNNORMALISED BASED NUMBERS, WHICH " &
                "ARE MODEL NUMBERS");

          IF X /= 16#0.FFFFFFFFFFFFFFFFFFFFF8#E85 OR
             Y /= 16#0.1#E-34 THEN
               FAILED("UNNORMALISED MODEL NUMBERS ARE NOT HANDLED " &
                      "CORRECTLY - COMPILE-TIME ");
          END IF;

          IF NOT EQUAL (2,2) THEN    -- NEVER EXECUTED
               X := 0.0;
               Y := DN(IDENT_INT(3));
          END IF;

          IF X /= 16#0.FFFFFFFFFFFFFFFFFFFFF8#E85 OR
             Y /= 16#0.1#E-34 THEN
               FAILED("UNNORMALISED MODEL NUMBERS ARE NOT HANDLED " &
                      "CORRECTLY - RUN-TIME ");
          END IF;

     END;

     RESULT;
END C35708U;
