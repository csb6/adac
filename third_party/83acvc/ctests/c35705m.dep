-- C35705M.DEP

-- OBJECTIVE:
--     CHECK THAT LARGE, SMALL, AND EPSILON CAN BE ASSIGNED EXACTLY
--     FOR DIGITS = 17.

-- APPLICABILITY CRITERIA:
--     THIS TEST IS APPLICABLE TO IMPLEMENTATIONS WHICH
--     SUPPORT DIGITS = 17.
--
--     IF DIGITS = 17 IS NOT SUPPORTED, THEN THE DECLARATION OF TYPE
--     DN MUST BE REJECTED.

-- HISTORY:
--     BAW 09/80     CREATED ORIGINAL TEST.
--     JBG 10/29/82
--     JBG 10/12/86  ADDED CODE TO CHECK THAT VALUES ARE TREATED
--                   CORRECTLY AT COMPILE-TIME (BY OPTIMIZING
--                   COMPILERS); REMOVED -B FROM NAME.
--     BCB 01/06/88  MODIFIED HEADER.

WITH REPORT;
PROCEDURE C35705M IS
      USE REPORT;
      TYPE DN IS DIGITS 17;                            -- N/A => ERROR.

      LARGE, MIN_LARGE, SMALL, MIN_SMALL,
      EPSILON, ONE_PLUS_EPSILON : DN := 0.0;

BEGIN TEST("C35705M","CHECK IF VALUES CORRESPONDING TO " &
            "LARGE, -LARGE, SMALL, -SMALL, EPSILON AND " &
            "1.0 + EPSILON CAN BE ASSIGNED EXACTLY");

      IF EQUAL(1, 1) THEN
         LARGE := 16#0.FFFFFFFFFFFFFFC#E58;
         MIN_LARGE := -16#0.FFFFFFFFFFFFFFC#E58;
         SMALL := 16#0.8#E-58;
         MIN_SMALL := -16#0.8#E-58;
         EPSILON := 16#0.8#E-14;
         ONE_PLUS_EPSILON := 16#0.1000000000000008#E1;

         IF LARGE /= DN'LARGE OR
            MIN_LARGE /= -DN'LARGE OR
            SMALL /= DN'SMALL OR
            MIN_SMALL /= -DN'SMALL OR
            EPSILON /= DN'EPSILON OR
            ONE_PLUS_EPSILON /= 1.0 + DN'EPSILON
         THEN FAILED("THE ASSIGNMENTS OF SOME ATTRIBUTES OF " &
                     "FLOATING-POINT TYPES ARE NOT EXACT - " &
                     "COMPILE-TIME");
         END IF;

      END IF;

      IF LARGE /= DN'LARGE OR
         MIN_LARGE /= -DN'LARGE OR
         SMALL /= DN'SMALL OR
         MIN_SMALL /= -DN'SMALL OR
         EPSILON /= DN'EPSILON OR
         ONE_PLUS_EPSILON /= 1.0 + DN'EPSILON
      THEN FAILED("THE ASSIGNMENTS OF SOME ATTRIBUTES OF " &
                  "FLOATING-POINT TYPES ARE NOT EXACT - RUN-TIME");
      END IF;

      RESULT;

END C35705M;
